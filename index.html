<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

<script type="module">
  import {counter} from './src/reducers/counter.js';
  import {loader} from './src/reducers/loader.js';

  const createReducers = (reducerObj) => {
    return Object.keys(reducerObj).reduce((accum, reducerName) => {
      const reducer = createReducer(reducerObj[reducerName]);

      console.error('reducer', reducer);

      accum[reducerName] = reducer;
      return accum;
    }, {});
  };

  const createReducer = (handlers) => {
    console.error('handlers', handlers);

    return (state = null, action) => {

      if (handlers[action.type]) {
        return handlers[action.type](state, action);
      }
      return state;
    };
  };

  const reducers = {
    counter,
    loader
  };

  const rootReducer = createReducers(reducers);

  console.error('reducers', reducers);
  console.error('rootReducer', rootReducer);
</script>
</body>
</html>
